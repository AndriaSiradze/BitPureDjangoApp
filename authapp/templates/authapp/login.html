{# ==== CustomLoginView login.html ==== #}
{% extends 'blogapp/base.html' %}

{% load socialaccount %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}Вход – Bit News{% endblock %}

{% block content %}
    <div class="d-flex align-items-center justify-content-center min-vh-100">
        <div class="card shadow-sm" style="max-width:400px; width:100%;">
            <div class="card-body">

                <!-- Header -->
                <h2 class="card-title text-center mb-4">Вход</h2>

                <!-- Telegram login -->
                <a href="{% provider_login_url 'telegram' %}" class="btn btn-outline-bitcoin w-100">
                    Войти через Telegram
                </a>
                <div class="text-center text-muted mb-3"><small>или</small></div>

                <!-- Standard login form -->
                <form method="post" action="{% url 'authapp:login' %}">
                    {% csrf_token %}
                    {{ form.non_field_errors }}
                    {{ form|crispy }}
                    <button type="submit" class="btn btn-bitcoin w-100">Войти</button>
                </form>

                <!-- Switch to register -->
                <p class="text-center mt-3 mb-0">
                    Нет аккаунта?
                    <a href="{% url 'authapp:register' %}">Зарегистрироваться</a>
                </p>

            </div>
        </div>
    </div>
{% endblock %}
